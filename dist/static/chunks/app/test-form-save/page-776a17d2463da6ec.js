(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2554],{6908:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(95155),l=t(12115),d=t(42099);function n(){var e,s,t,n,i;let[r,c]=(0,l.useState)([]),[o,m]=(0,l.useState)(!1),[x,h]=(0,l.useState)(null);(0,l.useEffect)(()=>{g()},[]);let g=async()=>{m(!0);try{let{data:e,error:s}=await d.N.from("page_contents").select("*").eq("content_type","form-data").order("updated_at",{ascending:!1});if(s)throw s;c(e||[])}catch(e){}m(!1)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Form Save Test"}),(0,a.jsx)("button",{onClick:g,disabled:o,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded disabled:bg-gray-600",children:o?"Loading...":"Refresh"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Saved Form Contents"}),o?(0,a.jsx)("div",{className:"text-yellow-400",children:"Loading..."}):0===r.length?(0,a.jsx)("div",{className:"text-gray-400",children:"No form contents found"}):(0,a.jsx)("div",{className:"space-y-3",children:r.map(e=>{var s,t,l;return(0,a.jsxs)("div",{className:"p-3 rounded cursor-pointer transition-colors ".concat((null==x?void 0:x.id)===e.id?"bg-blue-600":"bg-gray-700 hover:bg-gray-600"),onClick:()=>{h(e)},children:[(0,a.jsx)("div",{className:"font-medium",children:(null==(s=e.content_data)?void 0:s.formTitle)||"Untitled Form"}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:["Elements: ",(null==(l=e.content_data)||null==(t=l.elements)?void 0:t.length)||0]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Updated: ",new Date(e.updated_at).toLocaleString()]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",e.id]})]},e.id)})})]}),(0,a.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Form Details"}),x?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-green-400 font-medium mb-2",children:"Form Title:"}),(0,a.jsx)("div",{className:"bg-gray-700 p-3 rounded",children:(null==(e=x.content_data)?void 0:e.formTitle)||"No title"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-blue-400 font-medium mb-2",children:["Form Elements (",(null==(t=x.content_data)||null==(s=t.elements)?void 0:s.length)||0,"):"]}),(0,a.jsx)("div",{className:"bg-gray-700 p-3 rounded max-h-60 overflow-y-auto",children:(null==(i=x.content_data)||null==(n=i.elements)?void 0:n.length)>0?(0,a.jsx)("div",{className:"space-y-2",children:x.content_data.elements.map((e,s)=>(0,a.jsxs)("div",{className:"bg-gray-600 p-2 rounded text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"font-medium text-white",children:[s+1,". ",e.label]}),(0,a.jsx)("span",{className:"text-blue-300 text-xs",children:e.type})]}),e.placeholder&&(0,a.jsxs)("div",{className:"text-gray-400 text-xs mt-1",children:["Placeholder: ",e.placeholder]}),e.required&&(0,a.jsx)("div",{className:"text-red-400 text-xs",children:"Required"}),e.options&&(0,a.jsxs)("div",{className:"text-gray-400 text-xs mt-1",children:["Options: ",e.options.join(", ")]})]},e.id))}):(0,a.jsx)("div",{className:"text-gray-400",children:"No elements"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-purple-400 font-medium mb-2",children:"Raw Data:"}),(0,a.jsx)("div",{className:"bg-gray-700 p-3 rounded",children:(0,a.jsx)("pre",{className:"text-xs text-gray-300 overflow-auto max-h-40",children:JSON.stringify(x.content_data,null,2)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-yellow-400 font-medium mb-2",children:"Metadata:"}),(0,a.jsxs)("div",{className:"bg-gray-700 p-3 rounded text-sm space-y-1",children:[(0,a.jsxs)("div",{children:["Content ID: ",x.id]}),(0,a.jsxs)("div",{children:["Sidebar Item ID: ",x.sidebar_item_id]}),(0,a.jsxs)("div",{children:["Content Type: ",x.content_type]}),(0,a.jsxs)("div",{children:["Created: ",new Date(x.created_at).toLocaleString()]}),(0,a.jsxs)("div",{children:["Updated: ",new Date(x.updated_at).toLocaleString()]})]})]})]}):(0,a.jsx)("div",{className:"text-gray-400",children:"Select a form content to view details"})]})]}),(0,a.jsxs)("div",{className:"mt-8 bg-green-900/20 border border-green-600 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-green-400 font-semibold mb-2",children:"✅ Database Save Verification:"}),(0,a.jsxs)("ul",{className:"text-green-200 text-sm space-y-1",children:[(0,a.jsxs)("li",{children:["• All form data is automatically saved to the ",(0,a.jsx)("code",{children:"page_contents"})," table"]}),(0,a.jsxs)("li",{children:["• Form title, elements, and configuration are stored in ",(0,a.jsx)("code",{children:"content_data"})," JSON field"]}),(0,a.jsx)("li",{children:"• Each form element includes: type, label, placeholder, required status, and options"}),(0,a.jsx)("li",{children:'• Changes are saved when you click the "Save Changes" button in the form editor'}),(0,a.jsx)("li",{children:"• Data persists across browser sessions and page reloads"})]})]})]})}},41645:(e,s,t)=>{Promise.resolve().then(t.bind(t,6908))},42099:(e,s,t)=>{"use strict";t.d(s,{N:()=>a});let a=(0,t(55647).UU)("https://yhznjxfzpthmyyhbhihp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inloem5qeGZ6cHRobXl5aGJoaWhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyNDE0MzcsImV4cCI6MjA2OTgxNzQzN30.BlP9YoilaPopQgkZXZa-_WJPUIjnX9nTyYspaBV0Cqc")}},e=>{e.O(0,[5647,8441,5964,7358],()=>e(e.s=41645)),_N_E=e.O()}]);
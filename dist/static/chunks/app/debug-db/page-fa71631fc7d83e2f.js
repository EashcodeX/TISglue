(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7863],{2284:(e,t,a)=>{Promise.resolve().then(a.bind(a,87333))},42099:(e,t,a)=>{"use strict";a.d(t,{N:()=>s});let s=(0,a(55647).UU)("https://yhznjxfzpthmyyhbhihp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inloem5qeGZ6cHRobXl5aGJoaWhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyNDE0MzcsImV4cCI6MjA2OTgxNzQzN30.BlP9YoilaPopQgkZXZa-_WJPUIjnX9nTyYspaBV0Cqc")},87333:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(95155),i=a(12115),r=a(42099);function o(){let[e,t]=(0,i.useState)(null),[a,o]=(0,i.useState)(!1),n=async()=>{o(!0);try{let{data:e,error:a}=await r.N.from("organization_sidebar_items").select("*").limit(1);t({table:"organization_sidebar_items",data:e,error:a})}catch(e){t({table:"organization_sidebar_items",error:e})}o(!1)},l=async()=>{o(!0);try{let{data:e,error:a}=await r.N.from("page_contents").select("*").limit(1);t({table:"page_contents",data:e,error:a})}catch(e){t({table:"page_contents",error:e})}o(!1)},d=async()=>{o(!0);try{let e={organization_id:"6667e965-84f4-4a1b-8ff6-cd95e2eb6a57",parent_category:"CLIENT CONTACT",item_name:"Test Item",item_slug:"test-item",item_type:"page",icon:"FileText",description:"Test description",sort_order:0,is_active:!0,is_system:!1},{data:a,error:s}=await r.N.from("organization_sidebar_items").insert([e]).select().single();t({operation:"create_sidebar_item",data:a,error:s,testItem:e})}catch(e){t({operation:"create_sidebar_item",error:e})}o(!1)},c=async()=>{o(!0);try{let{data:e,error:a}=await r.N.from("organization_sidebar_items").select("id").limit(1),{data:s,error:i}=await r.N.from("page_contents").select("id").limit(1);t({operation:"test_tables",sidebarTableData:e,sidebarTableError:a,pageTableData:s,pageTableError:i,message:"If you see table not found errors, please run the SQL from database-setup.sql in your Supabase SQL editor"})}catch(e){t({operation:"test_tables",error:e})}o(!1)},b=async()=>{o(!0);try{let e={organization_id:"6667e965-84f4-4a1b-8ff6-cd95e2eb6a57",parent_category:"CLIENT CONTACT",item_name:"Test Custom Form",item_slug:"test-custom-form",item_type:"page",icon:"FileInput",description:"Test custom form created from debug page",sort_order:100,is_active:!0,is_system:!1},{data:a,error:s}=await r.N.from("organization_sidebar_items").insert([e]).select().single();t({operation:"create_test_sidebar_item",data:a,error:s,testItem:e})}catch(e){t({operation:"create_test_sidebar_item",error:e})}o(!1)};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Database Debug Page"}),(0,s.jsxs)("div",{className:"bg-yellow-900/20 border border-yellow-600 rounded-lg p-4 mb-6",children:[(0,s.jsx)("h2",{className:"text-yellow-400 font-semibold mb-2",children:"⚠️ Database Setup Required"}),(0,s.jsx)("p",{className:"text-yellow-200 text-sm mb-2",children:"If you're getting errors when creating sidebar items, the database tables might not exist yet."}),(0,s.jsxs)("p",{className:"text-yellow-200 text-sm",children:[(0,s.jsx)("strong",{children:"Option 1:"}),' Use the "Create Database Tables" button below (may not work with RPC restrictions)',(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"Option 2:"})," Copy and run the SQL from ",(0,s.jsx)("code",{children:"database-setup.sql"})," in your Supabase SQL editor"]})]}),(0,s.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,s.jsx)("button",{onClick:n,disabled:a,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded disabled:opacity-50",children:"Test Sidebar Table"}),(0,s.jsx)("button",{onClick:l,disabled:a,className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded disabled:opacity-50",children:"Test Page Content Table"}),(0,s.jsx)("button",{onClick:d,disabled:a,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded disabled:opacity-50",children:"Test Create Sidebar Item"}),(0,s.jsx)("button",{onClick:c,disabled:a,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded disabled:opacity-50",children:"Test Database Tables"}),(0,s.jsx)("button",{onClick:b,disabled:a,className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded disabled:opacity-50",children:"Create Test Sidebar Item"})]}),a&&(0,s.jsx)("div",{className:"text-yellow-400",children:"Loading..."}),e&&(0,s.jsxs)("div",{className:"bg-gray-800 p-4 rounded",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Results:"}),(0,s.jsx)("pre",{className:"text-sm overflow-auto",children:JSON.stringify(e,null,2)})]})]})}}},e=>{e.O(0,[5647,8441,5964,7358],()=>e(e.s=2284)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1880],{1243:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},19946:(e,s,a)=>{"use strict";a.d(s,{A:()=>i});var t=a(12115);let r=e=>{let s=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,a)=>a?a.toUpperCase():s.toLowerCase());return s.charAt(0).toUpperCase()+s.slice(1)},l=function(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return s.filter((e,s,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===s).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)((e,s)=>{let{color:a="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:d="",children:o,iconNode:m,...h}=e;return(0,t.createElement)("svg",{ref:s,...c,width:r,height:r,stroke:a,strokeWidth:i?24*Number(n)/Number(r):n,className:l("lucide",d),...!o&&!(e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0})(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[s,a]=e;return(0,t.createElement)(s,a)}),...Array.isArray(o)?o:[o]])}),i=(e,s)=>{let a=(0,t.forwardRef)((a,c)=>{let{className:i,...d}=a;return(0,t.createElement)(n,{ref:c,iconNode:s,className:l("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...d})});return a.displayName=r(e),a}},35169:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35695:(e,s,a)=>{"use strict";var t=a(18999);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},40646:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},48313:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]])},55891:(e,s,a)=>{Promise.resolve().then(a.bind(a,65066))},65066:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(95155),r=a(12115),l=a(35169),c=a(48313),n=a(1243),i=a(40646),d=a(35695);function o(){let[e,s]=(0,r.useState)(!1),[a,o]=(0,r.useState)(null),[m,h]=(0,r.useState)(!1),x=(0,d.useRouter)(),u=async()=>{s(!0),o(null);try{let e=await fetch("/api/fix-password-column",{method:"POST",headers:{"Content-Type":"application/json"}}),s=await e.json();s.success?(h(!0),o("✅ Password schema fixed successfully! You can now create passwords.")):(h(!1),o("❌ Fix failed: ".concat(s.error)))}catch(e){h(!1),o("❌ Error: ".concat(e.message))}finally{s(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,t.jsx)("button",{onClick:()=>x.back(),className:"p-2 hover:bg-gray-700 rounded-lg",children:(0,t.jsx)(l.A,{className:"w-5 h-5"})}),(0,t.jsx)(c.A,{className:"w-8 h-8 text-blue-500"}),(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Fix Password Schema"})]}),(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3 mb-4",children:[(0,t.jsx)(n.A,{className:"w-6 h-6 text-yellow-500 mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Schema Issue Detected"}),(0,t.jsx)("p",{className:"text-gray-300 mb-4",children:"The passwords table is missing the required 'password' column. This prevents creating new password entries."}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"This tool will add the missing column and other required fields to fix the issue."})]})]})}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"What this fix will do:"}),(0,t.jsxs)("ul",{className:"space-y-2 text-gray-300",children:[(0,t.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,t.jsx)(i.A,{className:"w-4 h-4 text-green-500"}),(0,t.jsx)("span",{children:"Add missing 'password' column to passwords table"})]}),(0,t.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,t.jsx)(i.A,{className:"w-4 h-4 text-green-500"}),(0,t.jsx)("span",{children:"Add 'category' column for password categorization"})]}),(0,t.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,t.jsx)(i.A,{className:"w-4 h-4 text-green-500"}),(0,t.jsx)("span",{children:"Add 'resource_name' column for resource identification"})]}),(0,t.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,t.jsx)(i.A,{className:"w-4 h-4 text-green-500"}),(0,t.jsx)("span",{children:"Add 'shared' and date columns for password management"})]}),(0,t.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,t.jsx)(i.A,{className:"w-4 h-4 text-green-500"}),(0,t.jsx)("span",{children:"Test the fix by attempting a sample insert"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("button",{onClick:u,disabled:e,className:"w-full flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed px-6 py-3 rounded-lg font-medium mb-4",children:[(0,t.jsx)(c.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:e?"Fixing Schema...":"Fix Password Schema"})]}),a&&(0,t.jsxs)("div",{className:"p-4 rounded-lg ".concat(m?"bg-green-900/30 border border-green-500":"bg-red-900/30 border border-red-500"),children:[(0,t.jsx)("p",{className:"".concat(m?"text-green-300":"text-red-300"),children:a}),m&&(0,t.jsx)("div",{className:"mt-3 pt-3 border-t border-green-500/30",children:(0,t.jsx)("p",{className:"text-green-400 text-sm",children:"You can now go back and try creating a password again. The schema issue should be resolved."})})]})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsxs)("p",{className:"text-gray-400 text-sm",children:["If this fix doesn't resolve the issue, try the comprehensive database setup at"," ",(0,t.jsx)("a",{href:"/fix-missing-tables",className:"text-blue-400 hover:text-blue-300",children:"/fix-missing-tables"})]})})]})})}}},e=>{e.O(0,[8441,5964,7358],()=>e(e.s=55891)),_N_E=e.O()}]);
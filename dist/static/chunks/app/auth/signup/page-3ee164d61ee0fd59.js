(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2778],{23227:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},28883:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},32919:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},40283:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>n,h:()=>c});var a=s(95155),r=s(12115),l=s(42099);let i=(0,r.createContext)(void 0);function n(e){let{children:t}=e,[s,n]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),[o,u]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{var e;let{data:{session:t}}=await l.N.auth.getSession();d(t),n(null!=(e=null==t?void 0:t.user)?e:null),u(!1)})();let{data:{subscription:e}}=l.N.auth.onAuthStateChange(async(e,t)=>{var s;d(t),n(null!=(s=null==t?void 0:t.user)?s:null),u(!1),(null==t?void 0:t.user)&&"SIGNED_IN"===e&&await m(t.user)});return()=>e.unsubscribe()},[]);let m=async e=>{try{let{data:a}=await l.N.from("users").select("id").eq("id",e.id).single();if(a)await l.N.from("users").update({last_login_at:new Date().toISOString()}).eq("id",e.id);else{var t,s;await l.N.from("users").insert({id:e.id,email:e.email,full_name:(null==(t=e.user_metadata)?void 0:t.full_name)||"",avatar_url:(null==(s=e.user_metadata)?void 0:s.avatar_url)||"",role:"user",status:"active",last_login_at:new Date().toISOString()})}}catch(e){}},h=async(e,t)=>{let{error:s}=await l.N.auth.signInWithPassword({email:e,password:t});return{error:s}},x=async(e,t,s)=>{let{error:a}=await l.N.auth.signUp({email:e,password:t,options:{data:s}});return{error:a}},y=async()=>{await l.N.auth.signOut()},p=async e=>{let{error:t}=await l.N.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/auth/reset-password")});return{error:t}};return(0,a.jsx)(i.Provider,{value:{user:s,session:c,loading:o,signIn:h,signUp:x,signOut:y,resetPassword:p},children:t})}function c(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},40646:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},42099:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});let a=(0,s(55647).UU)("https://yhznjxfzpthmyyhbhihp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inloem5qeGZ6cHRobXl5aGJoaWhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyNDE0MzcsImV4cCI6MjA2OTgxNzQzN30.BlP9YoilaPopQgkZXZa-_WJPUIjnX9nTyYspaBV0Cqc")},51154:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},66436:(e,t,s)=>{Promise.resolve().then(s.bind(s,84820))},71007:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},78749:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},84820:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(95155),r=s(12115),l=s(35695),i=s(6874),n=s.n(i),c=s(40283),d=s(51154),o=s(40646),u=s(23227),m=s(85339),h=s(71007),x=s(28883),y=s(32919),p=s(78749),f=s(92657);function g(){let e=(0,l.useRouter)(),{signUp:t,user:s,loading:i}=(0,c.h)(),[g,b]=(0,r.useState)({fullName:"",email:"",password:"",confirmPassword:""}),[w,N]=(0,r.useState)(!1),[v,j]=(0,r.useState)(!1),[k,A]=(0,r.useState)(!1),[I,C]=(0,r.useState)(null),[S,P]=(0,r.useState)(!1);(0,r.useEffect)(()=>{!i&&s&&e.push("/")},[s,i,e]);let _=async e=>{if(e.preventDefault(),A(!0),C(null),!(g.fullName.trim()?g.email.trim()?g.password.length<6?(C("Password must be at least 6 characters"),!1):g.password===g.confirmPassword||(C("Passwords do not match"),!1):(C("Email is required"),!1):(C("Full name is required"),!1)))return void A(!1);try{let{error:e}=await t(g.email,g.password,{full_name:g.fullName});e?C(e.message):P(!0)}catch(e){C("An unexpected error occurred")}finally{A(!1)}},M=e=>{b(t=>({...t,[e.target.name]:e.target.value}))};return i?(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,a.jsx)(d.A,{className:"w-8 h-8 animate-spin text-blue-500"})}):S?(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8 text-center",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center",children:(0,a.jsx)(o.A,{className:"w-8 h-8 text-white"})})}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Check your email"}),(0,a.jsxs)("p",{className:"text-gray-400",children:["We've sent you a confirmation link at ",(0,a.jsx)("strong",{children:g.email})]}),(0,a.jsx)(n(),{href:"/auth/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700",children:"Back to Sign In"})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:(0,a.jsx)(u.A,{className:"w-8 h-8 text-white"})})}),(0,a.jsx)("h2",{className:"mt-6 text-3xl font-bold text-white",children:"Create your account"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-400",children:"Join ITGlue to manage your IT documentation"})]}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:_,children:[I&&(0,a.jsxs)("div",{className:"bg-red-900/50 border border-red-600 rounded-lg p-4 flex items-center space-x-3",children:[(0,a.jsx)(m.A,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-red-200 text-sm",children:I})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(h.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{id:"fullName",name:"fullName",type:"text",required:!0,value:g.fullName,onChange:M,className:"block w-full pl-10 pr-3 py-3 border border-gray-600 rounded-lg bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email address"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(x.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:g.email,onChange:M,className:"block w-full pl-10 pr-3 py-3 border border-gray-600 rounded-lg bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(y.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{id:"password",name:"password",type:w?"text":"password",required:!0,value:g.password,onChange:M,className:"block w-full pl-10 pr-12 py-3 border border-gray-600 rounded-lg bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Create a password"}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>N(!w),children:w?(0,a.jsx)(p.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"}):(0,a.jsx)(f.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(y.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:v?"text":"password",required:!0,value:g.confirmPassword,onChange:M,className:"block w-full pl-10 pr-12 py-3 border border-gray-600 rounded-lg bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm your password"}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>j(!v),children:v?(0,a.jsx)(p.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"}):(0,a.jsx)(f.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})})]})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:k,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:k?(0,a.jsx)(d.A,{className:"w-5 h-5 animate-spin"}):"Create Account"})}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("span",{className:"text-gray-400 text-sm",children:["Already have an account?"," ",(0,a.jsx)(n(),{href:"/auth/login",className:"font-medium text-blue-400 hover:text-blue-300",children:"Sign in"})]})})]})]})})}},85339:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},92657:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}},e=>{e.O(0,[5647,6441,8441,5964,7358],()=>e(e.s=66436)),_N_E=e.O()}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3930],{20702:(e,t,a)=>{a.d(t,{$:()=>n,C:()=>r});var i=a(35695),s=a(12115);function n(){let e=(0,i.usePathname)(),t=(0,i.useParams)();return(0,s.useMemo)(()=>{let a=null==t?void 0:t.id;return(null==e?void 0:e.includes("/organizations/"))&&a?{scope:"organization",organizationId:a,organizationName:void 0,icon:"building",placeholder:"Search within this organization - contacts, documents, configurations...",title:"Organization Search",description:"Search all content within this organization including navigation items, page content, contacts, documents, configurations, passwords, and more"}:{scope:"global",organizationId:void 0,organizationName:void 0,icon:"globe",placeholder:"Search across all organizations and data globally...",title:"Global Search",description:"Search across all organizations, contacts, documents, configurations, and data in the entire system"}},[e,t])}function r(e){let[t,a]=(0,s.useState)(void 0);return(0,s.useEffect)(()=>{if(!e)return void a(void 0);(async()=>{try{let i=await fetch("/api/organizations/".concat(e));if(i.ok){var t;let e=await i.json();a(null==(t=e.organization)?void 0:t.name)}}catch(e){}})()},[e]),t}},40283:(e,t,a)=>{a.d(t,{AuthProvider:()=>o,h:()=>l});var i=a(95155),s=a(12115),n=a(42099);let r=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[a,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{var e;let{data:{session:t}}=await n.N.auth.getSession();c(t),o(null!=(e=null==t?void 0:t.user)?e:null),u(!1)})();let{data:{subscription:e}}=n.N.auth.onAuthStateChange(async(e,t)=>{var a;c(t),o(null!=(a=null==t?void 0:t.user)?a:null),u(!1),(null==t?void 0:t.user)&&"SIGNED_IN"===e&&await m(t.user)});return()=>e.unsubscribe()},[]);let m=async e=>{try{let{data:i}=await n.N.from("users").select("id").eq("id",e.id).single();if(i)await n.N.from("users").update({last_login_at:new Date().toISOString()}).eq("id",e.id);else{var t,a;await n.N.from("users").insert({id:e.id,email:e.email,full_name:(null==(t=e.user_metadata)?void 0:t.full_name)||"",avatar_url:(null==(a=e.user_metadata)?void 0:a.avatar_url)||"",role:"user",status:"active",last_login_at:new Date().toISOString()})}}catch(e){}},h=async(e,t)=>{let{error:a}=await n.N.auth.signInWithPassword({email:e,password:t});return{error:a}},g=async(e,t,a)=>{let{error:i}=await n.N.auth.signUp({email:e,password:t,options:{data:a}});return{error:i}},f=async()=>{await n.N.auth.signOut()},x=async e=>{let{error:t}=await n.N.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/auth/reset-password")});return{error:t}};return(0,i.jsx)(r.Provider,{value:{user:a,session:l,loading:d,signIn:h,signUp:g,signOut:f,resetPassword:x},children:t})}function l(){let e=(0,s.useContext)(r);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},42099:(e,t,a)=>{a.d(t,{N:()=>i});let i=(0,a(55647).UU)("https://yhznjxfzpthmyyhbhihp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inloem5qeGZ6cHRobXl5aGJoaWhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyNDE0MzcsImV4cCI6MjA2OTgxNzQzN30.BlP9YoilaPopQgkZXZa-_WJPUIjnX9nTyYspaBV0Cqc")},45745:(e,t,a)=>{a.d(t,{o:()=>s});var i=a(42099);class s{static async getOrganizationCounts(e){let t="counts_".concat(e),a=this.cache.get(t);if(a&&Date.now()-a.timestamp<this.CACHE_DURATION)return a.data;try{let a={},{count:s,error:n}=await i.N.from("contacts").select("*",{count:"exact",head:!0}).eq("organization_id",e);n||(a.contacts=s||0);let{count:r,error:o}=await i.N.from("locations").select("*",{count:"exact",head:!0}).eq("organization_id",e);o||(a.locations=r||0);let{count:l,error:c}=await i.N.from("documents").select("*",{count:"exact",head:!0}).eq("organization_id",e);c?a.documents=0:a.documents=l||0;let{count:d,error:u}=await i.N.from("passwords").select("*",{count:"exact",head:!0}).eq("organization_id",e);u?a.passwords=0:a.passwords=d||0;let{count:m,error:h}=await i.N.from("configurations").select("*",{count:"exact",head:!0}).eq("organization_id",e);h?a.configurations=0:a.configurations=m||0;let{count:g,error:f}=await i.N.from("networks").select("*",{count:"exact",head:!0}).eq("organization_id",e);f?a.networks=0:a.networks=g||0;let{count:x,error:b}=await i.N.from("ssl_certificates").select("*",{count:"exact",head:!0}).eq("organization_id",e);b?a.ssl_certificates=0:a.ssl_certificates=x||0;let{count:p,error:v}=await i.N.from("domains").select("*",{count:"exact",head:!0}).eq("organization_id",e);return v?a.domains=0:a.domains=p||0,this.cache.set(t,{data:a,timestamp:Date.now()}),a}catch(e){return{}}}static clearCache(e){e?(this.cache.delete("sidebar_".concat(e)),this.cache.delete("items_".concat(e)),this.cache.delete("counts_".concat(e))):this.cache.clear()}static clearCacheIfDifferentOrg(e){Array.from(this.cache.keys()).some(t=>t.includes("sidebar_")&&!t.includes(e))&&this.cache.clear()}static async getOrganizationSidebarItems(e){let t="items_".concat(e),a=this.cache.get(t);if(a&&Date.now()-a.timestamp<this.CACHE_DURATION)return a.data;let{data:s,error:n}=await i.N.from("organization_sidebar_items").select("*").eq("organization_id",e).eq("is_active",!0).order("sort_order",{ascending:!0});if(n)throw n;let r=s||[];return this.cache.set(t,{data:r,timestamp:Date.now()}),r}static async getOrganizationSidebarByCategory(e){let t="sidebar_".concat(e),a=this.cache.get(t);if(a&&Date.now()-a.timestamp<this.CACHE_DURATION)return a.data;let i=await this.getOrganizationSidebarItems(e),s=await this.getOrganizationCounts(e),n={"CLIENT CONTACT":{name:"CLIENT CONTACT",items:[],systemItems:[{name:"Site Summary",href:"/site-summary",icon:"FileText",count:1},{name:"Site Summary (Legacy)",href:"/site-summary-legacy",icon:"Archive",count:1},{name:"After Hour and Building/Site...",href:"/after-hour-access",icon:"Clock",count:1},{name:"Onsite Information",href:"/onsite-information",icon:"AlertTriangle"},{name:"Locations",href:"/locations",icon:"MapPin",count:s.locations||0},{name:"Contacts",href:"/contacts",icon:"Users",count:s.contacts||0}]},"CORE DOCUMENTATION":{name:"CORE DOCUMENTATION",items:[],systemItems:[{name:"TIS Standards Exception",href:"/tis-standards-exception",icon:"AlertTriangle"},{name:"TIS Contract Exceptions",href:"/tis-contract-exceptions",icon:"FileX"},{name:"Request for Change Form (RFC)",href:"/rfc",icon:"Clock"},{name:"Change Log",href:"/change-log",icon:"FileText"},{name:"Configurations",href:"/configurations",icon:"Settings",count:s.configurations||0},{name:"Documents",href:"/documents",icon:"FileText",count:s.documents||0},{name:"Domains - Liongard",href:"/domains-liongard",icon:"FileText",count:s.domains||0},{name:"Domain Tracker",href:"/domain-tracker",icon:"Globe",count:s.domains||0},{name:"Known Issues",href:"/known-issues",icon:"AlertTriangle",count:0},{name:"Maintenance Windows",href:"/maintenance-windows",icon:"Zap"},{name:"Multi-Factor Authentication",href:"/mfa",icon:"Shield",count:0},{name:"Networks",href:"/networks",icon:"Network",count:s.networks||0},{name:"Passwords",href:"/passwords",icon:"Key",count:s.passwords||0},{name:"SSL Tracker",href:"/ssl-tracker",icon:"Lock",count:s.ssl_certificates||0},{name:"TLS/SSL Certificate",href:"/tls-ssl-certificate",icon:"Shield",count:s.ssl_certificates||0}]}};return i.forEach(e=>{let t=e.parent_category||"CLIENT CONTACT";n[t]||(n[t]={name:t,items:[],systemItems:[]}),n[t].items.push(e)}),this.cache.set(t,{data:n,timestamp:Date.now()}),n}static async createSidebarItem(e){try{let{data:a,error:s}=await i.N.from("organization_sidebar_items").insert([e]).select().single();if(s){var t;if("42P01"===s.code)throw Error('Database table "organization_sidebar_items" does not exist. Please run the database setup SQL first.');if("23505"===s.code)throw Error("A sidebar item with this slug already exists for this organization.");if(null==(t=s.message)?void 0:t.includes("timeout"))throw Error("Database connection timeout. Please try again.");else throw Error("Database error: ".concat(s.message||"Unknown error"))}return this.clearCache(e.organization_id),a}catch(e){throw e}}static async updateSidebarItem(e,t){let{data:a,error:s}=await i.N.from("organization_sidebar_items").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw s;return a}static async deleteSidebarItem(e){let{error:t}=await i.N.from("organization_sidebar_items").delete().eq("id",e);if(t)throw t}static getAvailableIcons(){return[{value:"FileText",label:"Document"},{value:"Folder",label:"Folder"},{value:"Users",label:"Users"},{value:"Phone",label:"Phone"},{value:"Mail",label:"Email"},{value:"Settings",label:"Settings"},{value:"Code",label:"Code"},{value:"Database",label:"Database"},{value:"Server",label:"Server"},{value:"Network",label:"Network"},{value:"Shield",label:"Security"},{value:"Key",label:"Key"},{value:"Lock",label:"Lock"},{value:"Globe",label:"Globe"},{value:"Calendar",label:"Calendar"},{value:"Clock",label:"Clock"},{value:"Bug",label:"Bug"},{value:"AlertTriangle",label:"Alert"},{value:"CheckCircle",label:"Check"},{value:"Info",label:"Info"},{value:"Star",label:"Star"},{value:"Heart",label:"Heart"},{value:"Bookmark",label:"Bookmark"},{value:"Tag",label:"Tag"}]}static getAvailableCategories(){return[{value:"CLIENT CONTACT",label:"Client Contact"},{value:"CORE DOCUMENTATION",label:"Core Documentation"}]}}s.cache=new Map,s.CACHE_DURATION=3e4},72632:(e,t,a)=>{a.d(t,{p:()=>s});var i=a(12115);function s(){let[e,t]=(0,i.useState)(!1),a=(0,i.useCallback)(()=>{t(!0)},[]),s=(0,i.useCallback)(()=>{t(!1)},[]),n=(0,i.useCallback)(()=>{t(e=>!e)},[]);return(0,i.useEffect)(()=>{let t=t=>{let i=t.target;!("INPUT"===i.tagName||"TEXTAREA"===i.tagName||"true"===i.contentEditable||i.closest('[contenteditable="true"]'))&&!e&&("q"!==t.key.toLowerCase()||t.ctrlKey||t.metaKey||t.altKey||(t.preventDefault(),a()),(t.ctrlKey||t.metaKey)&&"k"===t.key.toLowerCase()&&(t.preventDefault(),a()))};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[e,a]),(0,i.useEffect)(()=>{let t=t=>{"Escape"===t.key&&e&&s()};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e,s]),{isSearchOpen:e,openSearch:a,closeSearch:s,toggleSearch:n}}},89006:(e,t,a)=>{a.d(t,{ClientProvider:()=>r,g6:()=>l,s2:()=>c,tH:()=>o});var i=a(95155),s=a(12115);let n=(0,s.createContext)(void 0);function r(e){let{children:t}=e,[a,r]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=localStorage.getItem("selectedClient");if(e)try{r(JSON.parse(e))}catch(e){localStorage.removeItem("selectedClient")}},[]),(0,s.useEffect)(()=>{a?localStorage.setItem("selectedClient",JSON.stringify(a)):localStorage.removeItem("selectedClient")},[a]),(0,i.jsx)(n.Provider,{value:{selectedClient:a,setSelectedClient:r,isClientSelected:!!a,clearSelectedClient:()=>{r(null)}},children:t})}function o(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useClient must be used within a ClientProvider");return e}function l(e){return e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}function c(e){let t=["bg-blue-500","bg-green-500","bg-purple-500","bg-red-500","bg-yellow-500","bg-indigo-500","bg-pink-500","bg-gray-500"],a=e.length%t.length;return t[a]}},94615:(e,t,a)=>{a.d(t,{default:()=>b});var i=a(95155),s=a(6874),n=a.n(s),r=a(35695),o=a(89006),l=a(40283),c=a(74783),d=a(13052),u=a(47924),m=a(381),h=a(23861),g=a(79772),f=a(34835),x=a(71007);function b(e){var t,a;let{currentPage:s,onMenuToggle:b}=e,p=(0,r.usePathname)();(0,r.useRouter)();let{selectedClient:v}=(0,o.tH)(),{user:w,signOut:y}=(0,l.h)(),N=[{label:"Dashboard",href:"/",isActive:"/"===p},{label:"Organizations",href:"/organizations",isActive:p.startsWith("/organizations")},{label:"Reports",href:"/reports",isActive:"/reports"===p},{label:"API Docs",href:"/api-docs",isActive:"/api-docs"===p},{label:"Personal",href:"/personal",isActive:"/personal"===p},{label:"Global",href:"/global",isActive:"/global"===p},{label:"GlueConnect",href:"/glueconnect",isActive:"/glueconnect"===p}],C=o.g6,A=o.s2;return(0,i.jsx)("header",{className:"bg-gray-800 border-b border-gray-700",children:(0,i.jsxs)("div",{className:"flex items-center justify-between px-4 sm:px-6 py-3",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4 sm:space-x-6",children:[(0,i.jsx)("button",{onClick:b,className:"lg:hidden p-2 text-gray-400 hover:text-white transition-colors",children:(0,i.jsx)(c.A,{className:"w-5 h-5"})}),(0,i.jsxs)(n(),{href:"/",className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-orange-500 rounded flex items-center justify-center text-sm font-bold",children:"IT"}),(0,i.jsx)("span",{className:"text-sm text-gray-300",children:".net"})]}),(0,i.jsx)("nav",{className:"hidden md:flex space-x-6",children:N.map(e=>(0,i.jsx)(n(),{href:e.href,className:"px-3 py-1 rounded text-sm transition-colors ".concat(e.isActive?"text-white bg-gray-700":"text-gray-300 hover:text-white hover:bg-gray-700"),children:e.label},e.label))}),v&&p.startsWith("/organizations/")&&(0,i.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-300",children:[(0,i.jsx)(d.A,{className:"w-4 h-4"}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"w-6 h-6 ".concat(A(v.name)," rounded-full flex items-center justify-center"),children:(0,i.jsx)("span",{className:"text-white font-bold text-xs",children:C(v.name)})}),(0,i.jsx)("span",{children:v.name})]})]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,i.jsx)("button",{className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,i.jsx)(u.A,{className:"w-5 h-5"})}),(0,i.jsx)("button",{className:"hidden sm:block p-2 text-gray-400 hover:text-white transition-colors",children:(0,i.jsx)(m.A,{className:"w-5 h-5"})}),(0,i.jsx)("button",{className:"hidden sm:block p-2 text-gray-400 hover:text-white transition-colors",children:(0,i.jsx)(h.A,{className:"w-5 h-5"})}),w?(0,i.jsxs)("div",{className:"relative group",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:(0,i.jsx)(g.A,{className:"w-4 h-4 text-white"})}),(0,i.jsx)("span",{className:"hidden sm:block text-sm text-gray-300",children:(null==(t=w.user_metadata)?void 0:t.full_name)||w.email})]}),(0,i.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:(0,i.jsxs)("div",{className:"py-2",children:[(0,i.jsxs)("div",{className:"px-4 py-2 border-b border-gray-700",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-white",children:(null==(a=w.user_metadata)?void 0:a.full_name)||"User"}),(0,i.jsx)("p",{className:"text-xs text-gray-400",children:w.email})]}),(0,i.jsxs)("button",{onClick:()=>y(),className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white flex items-center space-x-2",children:[(0,i.jsx)(f.A,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:"Sign Out"})]})]})})]}):(0,i.jsxs)(n(),{href:"/auth/login",className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm text-white transition-colors",children:[(0,i.jsx)(x.A,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:"Sign In"})]})]})]})})}},95060:(e,t,a)=>{a.d(t,{A:()=>X});var i=a(95155),s=a(12115),n=a(35695),r=a(45745),o=a(72632),l=a(20702),c=a(57340),d=a(23227),u=a(17580),m=a(57434),h=a(381),g=a(4516),f=a(34869),x=a(69803),b=a(75525),p=a(95880),v=a(19302),w=a(14186),y=a(38564),N=a(1243),C=a(71539),A=a(54213),j=a(14738),S=a(76517),k=a(25487),I=a(19420),E=a(28883),_=a(29621),T=a(32919),z=a(69074),O=a(30446),D=a(40646),L=a(81284),P=a(51976),F=a(62108),U=a(43332),q=a(39022),M=a(29676),H=a(79323),R=a(21380),B=a(66474),G=a(13052);let J={Home:c.A,Building2:d.A,Users:u.A,FileText:m.A,Settings:h.A,MapPin:g.A,Globe:f.A,Key:x.A,Shield:b.A,HardDrive:p.A,Network:v.A,Clock:w.A,Star:y.A,AlertTriangle:N.A,Zap:C.A,Database:A.A,Monitor:j.A,Wifi:S.A,Server:k.A,Phone:I.A,Mail:E.A,Code:_.A,Lock:T.A,Calendar:z.A,Bug:O.A,CheckCircle:D.A,Info:L.A,Heart:P.A,Bookmark:F.A,Tag:U.A,Archive:q.A,History:M.A,FileX:H.A,Folder:R.A},K=e=>J[e]||m.A,W=[{id:"main",items:[{id:"home",label:"Home",icon:c.A,href:"/"}]},{id:"client-contact",title:"CLIENT CONTACT",isCollapsible:!0,isExpanded:!0,items:[{id:"site-summary",label:"Site Summary",count:1,href:"/site-summary"},{id:"site-summary-legacy",label:"Site Summary (Legacy)",count:1,href:"/site-summary-legacy"},{id:"after-hour-building",label:"After Hour and Building/Site...",count:1,href:"/after-hour-access"},{id:"onsite-information",label:"Onsite Information",href:"/onsite-information"},{id:"locations",label:"Locations",count:13,href:"/locations"},{id:"contacts",label:"Contacts",count:317,href:"/contacts"}]},{id:"core-documentation",title:"CORE DOCUMENTATION",isCollapsible:!0,isExpanded:!0,items:[{id:"f12-standards-exception",label:"F12 Standards Exception",href:"/f12-standards-exception"},{id:"f12-contract-exceptions",label:"F12 Contract Exceptions",href:"/f12-contract-exceptions"},{id:"request-change-form",label:"Request for Change Form (RFC)",href:"/request-change-form"},{id:"change-log",label:"Change Log",href:"/change-log"},{id:"configurations",label:"Configurations",count:119,href:"/configurations"},{id:"documents",label:"Documents",count:419,href:"/documents"},{id:"warranties-ungrouped",label:"Warranties - Ungrouped",count:13,href:"/warranties-ungrouped"},{id:"domain-tracker",label:"Domain Tracker",count:11,href:"/domain-tracker"},{id:"known-issues",label:"Known Issues",count:2,href:"/known-issues"},{id:"maintenance-windows",label:"Maintenance Windows",href:"/maintenance-windows"},{id:"multi-factor-authentication",label:"Multi Factor Authentication",count:1,href:"/multi-factor-authentication"},{id:"networks",label:"Networks",href:"/networks"},{id:"passwords",label:"Passwords",count:111,href:"/passwords"},{id:"ssl-tracker",label:"SSL Tracker",count:4,href:"/ssl-tracker"}]}];function X(e){let{config:t=W,className:a="",onItemClick:u}=e,m=(0,n.useParams)(),{openSearch:h}=(0,o.p)(),g=(0,l.$)(),[x,b]=(0,s.useState)([]),[p,v]=(0,s.useState)(!1),[w,y]=(0,s.useState)(!1),[N,C]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(null==m?void 0:m.id){let e=m.id;N!==e&&(C(e),r.o.clearCacheIfDifferentOrg(e),w&&N===e||(b([]),y(!1)),A(e))}else C(null),b(t),y(!0)},[null==m?void 0:m.id,N,w]);let A=async e=>{try{v(!0);let t=await r.o.getOrganizationSidebarByCategory(e),a=[{id:"main",items:[{id:"home",label:"Home",icon:c.A,href:"/"}]}];Object.entries(t).forEach(e=>{let[t,i]=e,s={id:t.toLowerCase().replace(/\s+/g,"-"),title:i.name,isCollapsible:!0,isExpanded:!0,items:[]};i.systemItems.forEach((e,a)=>{s.items.push({id:"".concat(t,"-system-").concat(a),label:e.name,icon:K(e.icon),href:e.href,count:e.count})}),i.items.forEach(e=>{s.items.push({id:e.id,label:e.item_name,icon:K(e.icon),href:"/".concat(e.item_slug)})}),s.items.length>0&&a.push(s)}),b(a),y(!0)}catch(e){b(t),y(!0)}finally{v(!1)}},j=function(e,t){var a;let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.icon,r=e.children&&e.children.length>0;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between py-1 px-3 text-sm text-gray-300 hover:bg-gray-700 cursor-pointer group",style:{paddingLeft:"".concat(16*s+12,"px")},onClick:()=>{var a;r?(a=e.id,b(e=>e.map(e=>e.id===t?{...e,items:e.items.map(e=>e.id===a?{...e,isExpanded:!e.isExpanded}:e)}:e))):u&&u(e)},children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[n&&(0,i.jsx)(n,{className:"w-4 h-4 flex-shrink-0"}),(0,i.jsx)("span",{className:"truncate",children:e.label}),void 0!==e.count&&(0,i.jsx)("span",{className:"text-xs text-gray-500 ml-auto",children:e.count})]}),r&&(0,i.jsx)("div",{className:"ml-2",children:e.isExpanded?(0,i.jsx)(B.A,{className:"w-3 h-3"}):(0,i.jsx)(G.A,{className:"w-3 h-3"})})]}),r&&e.isExpanded&&(0,i.jsx)("div",{children:null==(a=e.children)?void 0:a.map(e=>j(e,t,s+1))})]},e.id)};return(0,i.jsxs)("div",{className:"w-64 bg-gray-800 border-r border-gray-700 h-full overflow-y-auto hidden lg:block ".concat(a),children:[(0,i.jsx)("div",{className:"p-3 border-b border-gray-700",children:(0,i.jsxs)("button",{onClick:h,className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-gray-300 rounded-lg transition-colors group ".concat("global"===g.scope?"bg-blue-600/20 hover:bg-blue-600/30 ring-1 ring-blue-500/30":"bg-green-600/20 hover:bg-green-600/30 ring-1 ring-green-500/30"),children:["global"===g.scope?(0,i.jsx)(f.A,{className:"w-4 h-4 text-blue-400"}):(0,i.jsx)(d.A,{className:"w-4 h-4 text-green-400"}),(0,i.jsxs)("div",{className:"flex-1 text-left",children:[(0,i.jsx)("div",{className:"font-medium",children:"global"===g.scope?"Global Search":"Organization Search"}),(0,i.jsx)("div",{className:"text-xs text-gray-400",children:"global"===g.scope?"Search all data":"Search within org"})]}),(0,i.jsx)("kbd",{className:"px-2 py-1 text-xs bg-gray-600 group-hover:bg-gray-500 rounded border border-gray-500",children:"Q"})]})}),(0,i.jsx)("div",{className:"py-4",children:p&&0===x.length?(0,i.jsx)("div",{className:"px-3 py-4",children:(0,i.jsxs)("div",{className:"flex items-center space-x-2 text-gray-400",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-400"}),(0,i.jsx)("span",{className:"text-sm",children:"Loading sidebar..."})]})}):x.map(e=>(0,i.jsxs)("div",{className:"mb-4",children:[e.title&&(0,i.jsxs)("div",{className:"px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider flex items-center justify-between ".concat(e.isCollapsible?"cursor-pointer hover:text-gray-300":""),onClick:()=>{var t;return e.isCollapsible&&(t=e.id,void b(e=>e.map(e=>e.id===t?{...e,isExpanded:!e.isExpanded}:e)))},children:[(0,i.jsx)("span",{children:e.title}),e.isCollapsible&&(0,i.jsx)("div",{children:e.isExpanded?(0,i.jsx)(B.A,{className:"w-3 h-3"}):(0,i.jsx)(G.A,{className:"w-3 h-3"})})]}),(!e.isCollapsible||e.isExpanded)&&(0,i.jsx)("div",{children:e.items.map(t=>j(t,e.id))})]},e.id))})]})}}}]);
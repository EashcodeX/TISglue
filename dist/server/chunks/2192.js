"use strict";exports.id=2192,exports.ids=[2192],exports.modules={21891:(a,b,c)=>{c.d(b,{default:()=>r});var d=c(60687),e=c(85814),f=c.n(e),g=c(16189),h=c(5376),i=c(63213),j=c(12941),k=c(14952),l=c(99270),m=c(84027),n=c(97051),o=c(86356),p=c(40083),q=c(58869);function r({currentPage:a,onMenuToggle:b}){let c=(0,g.usePathname)();(0,g.useRouter)();let{selectedClient:e}=(0,h.tH)(),{user:r,signOut:s}=(0,i.h)(),t=[{label:"Dashboard",href:"/",isActive:"/"===c},{label:"Organizations",href:"/organizations",isActive:c.startsWith("/organizations")},{label:"Reports",href:"/reports",isActive:"/reports"===c},{label:"API Docs",href:"/api-docs",isActive:"/api-docs"===c},{label:"Personal",href:"/personal",isActive:"/personal"===c},{label:"Global",href:"/global",isActive:"/global"===c},{label:"GlueConnect",href:"/glueconnect",isActive:"/glueconnect"===c}],u=h.g6,v=h.s2;return(0,d.jsx)("header",{className:"bg-gray-800 border-b border-gray-700",children:(0,d.jsxs)("div",{className:"flex items-center justify-between px-4 sm:px-6 py-3",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-4 sm:space-x-6",children:[(0,d.jsx)("button",{onClick:b,className:"lg:hidden p-2 text-gray-400 hover:text-white transition-colors",children:(0,d.jsx)(j.A,{className:"w-5 h-5"})}),(0,d.jsxs)(f(),{href:"/",className:"flex items-center space-x-2",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-orange-500 rounded flex items-center justify-center text-sm font-bold",children:"IT"}),(0,d.jsx)("span",{className:"text-sm text-gray-300",children:".net"})]}),(0,d.jsx)("nav",{className:"hidden md:flex space-x-6",children:t.map(a=>(0,d.jsx)(f(),{href:a.href,className:`px-3 py-1 rounded text-sm transition-colors ${a.isActive?"text-white bg-gray-700":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:a.label},a.label))}),e&&c.startsWith("/organizations/")&&(0,d.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-300",children:[(0,d.jsx)(k.A,{className:"w-4 h-4"}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("div",{className:`w-6 h-6 ${v(e.name)} rounded-full flex items-center justify-center`,children:(0,d.jsx)("span",{className:"text-white font-bold text-xs",children:u(e.name)})}),(0,d.jsx)("span",{children:e.name})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,d.jsx)("button",{className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,d.jsx)(l.A,{className:"w-5 h-5"})}),(0,d.jsx)("button",{className:"hidden sm:block p-2 text-gray-400 hover:text-white transition-colors",children:(0,d.jsx)(m.A,{className:"w-5 h-5"})}),(0,d.jsx)("button",{className:"hidden sm:block p-2 text-gray-400 hover:text-white transition-colors",children:(0,d.jsx)(n.A,{className:"w-5 h-5"})}),r?(0,d.jsxs)("div",{className:"relative group",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:(0,d.jsx)(o.A,{className:"w-4 h-4 text-white"})}),(0,d.jsx)("span",{className:"hidden sm:block text-sm text-gray-300",children:r.user_metadata?.full_name||r.email})]}),(0,d.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:(0,d.jsxs)("div",{className:"py-2",children:[(0,d.jsxs)("div",{className:"px-4 py-2 border-b border-gray-700",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-white",children:r.user_metadata?.full_name||"User"}),(0,d.jsx)("p",{className:"text-xs text-gray-400",children:r.email})]}),(0,d.jsxs)("button",{onClick:()=>s(),className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white flex items-center space-x-2",children:[(0,d.jsx)(p.A,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Sign Out"})]})]})})]}):(0,d.jsxs)(f(),{href:"/auth/login",className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm text-white transition-colors",children:[(0,d.jsx)(q.A,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Sign In"})]})]})]})})}},39683:(a,b,c)=>{c.d(b,{o:()=>e});var d=c(16391);class e{static{this.cache=new Map}static{this.CACHE_DURATION=3e4}static async getOrganizationCounts(a){let b=`counts_${a}`,c=this.cache.get(b);if(c&&Date.now()-c.timestamp<this.CACHE_DURATION)return c.data;try{let c={},{count:e,error:f}=await d.N.from("contacts").select("*",{count:"exact",head:!0}).eq("organization_id",a);f||(c.contacts=e||0);let{count:g,error:h}=await d.N.from("locations").select("*",{count:"exact",head:!0}).eq("organization_id",a);h||(c.locations=g||0);let{count:i,error:j}=await d.N.from("documents").select("*",{count:"exact",head:!0}).eq("organization_id",a);j?c.documents=0:c.documents=i||0;let{count:k,error:l}=await d.N.from("passwords").select("*",{count:"exact",head:!0}).eq("organization_id",a);l?c.passwords=0:c.passwords=k||0;let{count:m,error:n}=await d.N.from("configurations").select("*",{count:"exact",head:!0}).eq("organization_id",a);n?c.configurations=0:c.configurations=m||0;let{count:o,error:p}=await d.N.from("networks").select("*",{count:"exact",head:!0}).eq("organization_id",a);p?c.networks=0:c.networks=o||0;let{count:q,error:r}=await d.N.from("ssl_certificates").select("*",{count:"exact",head:!0}).eq("organization_id",a);r?c.ssl_certificates=0:c.ssl_certificates=q||0;let{count:s,error:t}=await d.N.from("domains").select("*",{count:"exact",head:!0}).eq("organization_id",a);return t?c.domains=0:c.domains=s||0,this.cache.set(b,{data:c,timestamp:Date.now()}),c}catch(a){return{}}}static clearCache(a){a?(this.cache.delete(`sidebar_${a}`),this.cache.delete(`items_${a}`),this.cache.delete(`counts_${a}`)):this.cache.clear()}static clearCacheIfDifferentOrg(a){Array.from(this.cache.keys()).some(b=>b.includes("sidebar_")&&!b.includes(a))&&this.cache.clear()}static async getOrganizationSidebarItems(a){let b=`items_${a}`,c=this.cache.get(b);if(c&&Date.now()-c.timestamp<this.CACHE_DURATION)return c.data;let{data:e,error:f}=await d.N.from("organization_sidebar_items").select("*").eq("organization_id",a).eq("is_active",!0).order("sort_order",{ascending:!0});if(f)throw f;let g=e||[];return this.cache.set(b,{data:g,timestamp:Date.now()}),g}static async getOrganizationSidebarByCategory(a){let b=`sidebar_${a}`,c=this.cache.get(b);if(c&&Date.now()-c.timestamp<this.CACHE_DURATION)return c.data;let d=await this.getOrganizationSidebarItems(a),e=await this.getOrganizationCounts(a),f={"CLIENT CONTACT":{name:"CLIENT CONTACT",items:[],systemItems:[{name:"Site Summary",href:"/site-summary",icon:"FileText",count:1},{name:"Site Summary (Legacy)",href:"/site-summary-legacy",icon:"Archive",count:1},{name:"After Hour and Building/Site...",href:"/after-hour-access",icon:"Clock",count:1},{name:"Onsite Information",href:"/onsite-information",icon:"AlertTriangle"},{name:"Locations",href:"/locations",icon:"MapPin",count:e.locations||0},{name:"Contacts",href:"/contacts",icon:"Users",count:e.contacts||0}]},"CORE DOCUMENTATION":{name:"CORE DOCUMENTATION",items:[],systemItems:[{name:"TIS Standards Exception",href:"/tis-standards-exception",icon:"AlertTriangle"},{name:"TIS Contract Exceptions",href:"/tis-contract-exceptions",icon:"FileX"},{name:"Request for Change Form (RFC)",href:"/rfc",icon:"Clock"},{name:"Change Log",href:"/change-log",icon:"FileText"},{name:"Configurations",href:"/configurations",icon:"Settings",count:e.configurations||0},{name:"Documents",href:"/documents",icon:"FileText",count:e.documents||0},{name:"Domains - Liongard",href:"/domains-liongard",icon:"FileText",count:e.domains||0},{name:"Domain Tracker",href:"/domain-tracker",icon:"Globe",count:e.domains||0},{name:"Known Issues",href:"/known-issues",icon:"AlertTriangle",count:0},{name:"Maintenance Windows",href:"/maintenance-windows",icon:"Zap"},{name:"Multi-Factor Authentication",href:"/mfa",icon:"Shield",count:0},{name:"Networks",href:"/networks",icon:"Network",count:e.networks||0},{name:"Passwords",href:"/passwords",icon:"Key",count:e.passwords||0},{name:"SSL Tracker",href:"/ssl-tracker",icon:"Lock",count:e.ssl_certificates||0},{name:"TLS/SSL Certificate",href:"/tls-ssl-certificate",icon:"Shield",count:e.ssl_certificates||0}]}};return d.forEach(a=>{let b=a.parent_category||"CLIENT CONTACT";f[b]||(f[b]={name:b,items:[],systemItems:[]}),f[b].items.push(a)}),this.cache.set(b,{data:f,timestamp:Date.now()}),f}static async createSidebarItem(a){try{let{data:b,error:c}=await d.N.from("organization_sidebar_items").insert([a]).select().single();if(c)if("42P01"===c.code)throw Error('Database table "organization_sidebar_items" does not exist. Please run the database setup SQL first.');else if("23505"===c.code)throw Error("A sidebar item with this slug already exists for this organization.");else if(c.message?.includes("timeout"))throw Error("Database connection timeout. Please try again.");else throw Error(`Database error: ${c.message||"Unknown error"}`);return this.clearCache(a.organization_id),b}catch(a){throw a}}static async updateSidebarItem(a,b){let{data:c,error:e}=await d.N.from("organization_sidebar_items").update({...b,updated_at:new Date().toISOString()}).eq("id",a).select().single();if(e)throw e;return c}static async deleteSidebarItem(a){let{error:b}=await d.N.from("organization_sidebar_items").delete().eq("id",a);if(b)throw b}static getAvailableIcons(){return[{value:"FileText",label:"Document"},{value:"Folder",label:"Folder"},{value:"Users",label:"Users"},{value:"Phone",label:"Phone"},{value:"Mail",label:"Email"},{value:"Settings",label:"Settings"},{value:"Code",label:"Code"},{value:"Database",label:"Database"},{value:"Server",label:"Server"},{value:"Network",label:"Network"},{value:"Shield",label:"Security"},{value:"Key",label:"Key"},{value:"Lock",label:"Lock"},{value:"Globe",label:"Globe"},{value:"Calendar",label:"Calendar"},{value:"Clock",label:"Clock"},{value:"Bug",label:"Bug"},{value:"AlertTriangle",label:"Alert"},{value:"CheckCircle",label:"Check"},{value:"Info",label:"Info"},{value:"Star",label:"Star"},{value:"Heart",label:"Heart"},{value:"Bookmark",label:"Bookmark"},{value:"Tag",label:"Tag"}]}static getAvailableCategories(){return[{value:"CLIENT CONTACT",label:"Client Contact"},{value:"CORE DOCUMENTATION",label:"Core Documentation"}]}}},99154:(a,b,c)=>{c.d(b,{A:()=>T});var d=c(60687),e=c(43210),f=c(16189);c(39683);var g=c(80362),h=c(99410),i=c(32192),j=c(17313),k=c(41312),l=c(10022),m=c(84027),n=c(97992),o=c(11437),p=c(19959),q=c(99891),r=c(62022),s=c(1994),t=c(48730),u=c(64398),v=c(43649),w=c(45583),x=c(61611),y=c(34318),z=c(87891),A=c(24413),B=c(48340),C=c(41550),D=c(80375),E=c(64021),F=c(40228),G=c(48210),H=c(5336),I=c(96882),J=c(67760),K=c(49014),L=c(37360),M=c(77026),N=c(39916),O=c(75577),P=c(82570),Q=c(78272),R=c(14952);i.A,j.A,k.A,l.A,m.A,n.A,o.A,p.A,q.A,r.A,s.A,t.A,u.A,v.A,w.A,x.A,y.A,z.A,A.A,B.A,C.A,D.A,E.A,F.A,G.A,H.A,I.A,J.A,K.A,L.A,M.A,N.A,O.A,P.A;let S=[{id:"main",items:[{id:"home",label:"Home",icon:i.A,href:"/"}]},{id:"client-contact",title:"CLIENT CONTACT",isCollapsible:!0,isExpanded:!0,items:[{id:"site-summary",label:"Site Summary",count:1,href:"/site-summary"},{id:"site-summary-legacy",label:"Site Summary (Legacy)",count:1,href:"/site-summary-legacy"},{id:"after-hour-building",label:"After Hour and Building/Site...",count:1,href:"/after-hour-access"},{id:"onsite-information",label:"Onsite Information",href:"/onsite-information"},{id:"locations",label:"Locations",count:13,href:"/locations"},{id:"contacts",label:"Contacts",count:317,href:"/contacts"}]},{id:"core-documentation",title:"CORE DOCUMENTATION",isCollapsible:!0,isExpanded:!0,items:[{id:"f12-standards-exception",label:"F12 Standards Exception",href:"/f12-standards-exception"},{id:"f12-contract-exceptions",label:"F12 Contract Exceptions",href:"/f12-contract-exceptions"},{id:"request-change-form",label:"Request for Change Form (RFC)",href:"/request-change-form"},{id:"change-log",label:"Change Log",href:"/change-log"},{id:"configurations",label:"Configurations",count:119,href:"/configurations"},{id:"documents",label:"Documents",count:419,href:"/documents"},{id:"warranties-ungrouped",label:"Warranties - Ungrouped",count:13,href:"/warranties-ungrouped"},{id:"domain-tracker",label:"Domain Tracker",count:11,href:"/domain-tracker"},{id:"known-issues",label:"Known Issues",count:2,href:"/known-issues"},{id:"maintenance-windows",label:"Maintenance Windows",href:"/maintenance-windows"},{id:"multi-factor-authentication",label:"Multi Factor Authentication",count:1,href:"/multi-factor-authentication"},{id:"networks",label:"Networks",href:"/networks"},{id:"passwords",label:"Passwords",count:111,href:"/passwords"},{id:"ssl-tracker",label:"SSL Tracker",count:4,href:"/ssl-tracker"}]}];function T({config:a=S,className:b="",onItemClick:c}){(0,f.useParams)();let{openSearch:i}=(0,g.p)(),k=(0,h.$)(),[l,m]=(0,e.useState)([]),[n,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)(!1),[s,t]=(0,e.useState)(null),u=(a,b,e=0)=>{let f=a.icon,g=a.children&&a.children.length>0;return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between py-1 px-3 text-sm text-gray-300 hover:bg-gray-700 cursor-pointer group",style:{paddingLeft:`${16*e+12}px`},onClick:()=>{var d;g?(d=a.id,m(a=>a.map(a=>a.id===b?{...a,items:a.items.map(a=>a.id===d?{...a,isExpanded:!a.isExpanded}:a)}:a))):c&&c(a)},children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[f&&(0,d.jsx)(f,{className:"w-4 h-4 flex-shrink-0"}),(0,d.jsx)("span",{className:"truncate",children:a.label}),void 0!==a.count&&(0,d.jsx)("span",{className:"text-xs text-gray-500 ml-auto",children:a.count})]}),g&&(0,d.jsx)("div",{className:"ml-2",children:a.isExpanded?(0,d.jsx)(Q.A,{className:"w-3 h-3"}):(0,d.jsx)(R.A,{className:"w-3 h-3"})})]}),g&&a.isExpanded&&(0,d.jsx)("div",{children:a.children?.map(a=>u(a,b,e+1))})]},a.id)};return(0,d.jsxs)("div",{className:`w-64 bg-gray-800 border-r border-gray-700 h-full overflow-y-auto hidden lg:block ${b}`,children:[(0,d.jsx)("div",{className:"p-3 border-b border-gray-700",children:(0,d.jsxs)("button",{onClick:i,className:`w-full flex items-center space-x-3 px-3 py-2 text-sm text-gray-300 rounded-lg transition-colors group ${"global"===k.scope?"bg-blue-600/20 hover:bg-blue-600/30 ring-1 ring-blue-500/30":"bg-green-600/20 hover:bg-green-600/30 ring-1 ring-green-500/30"}`,children:["global"===k.scope?(0,d.jsx)(o.A,{className:"w-4 h-4 text-blue-400"}):(0,d.jsx)(j.A,{className:"w-4 h-4 text-green-400"}),(0,d.jsxs)("div",{className:"flex-1 text-left",children:[(0,d.jsx)("div",{className:"font-medium",children:"global"===k.scope?"Global Search":"Organization Search"}),(0,d.jsx)("div",{className:"text-xs text-gray-400",children:"global"===k.scope?"Search all data":"Search within org"})]}),(0,d.jsx)("kbd",{className:"px-2 py-1 text-xs bg-gray-600 group-hover:bg-gray-500 rounded border border-gray-500",children:"Q"})]})}),(0,d.jsx)("div",{className:"py-4",children:n&&0===l.length?(0,d.jsx)("div",{className:"px-3 py-4",children:(0,d.jsxs)("div",{className:"flex items-center space-x-2 text-gray-400",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-400"}),(0,d.jsx)("span",{className:"text-sm",children:"Loading sidebar..."})]})}):l.map(a=>(0,d.jsxs)("div",{className:"mb-4",children:[a.title&&(0,d.jsxs)("div",{className:`px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider flex items-center justify-between ${a.isCollapsible?"cursor-pointer hover:text-gray-300":""}`,onClick:()=>{var b;return a.isCollapsible&&(b=a.id,void m(a=>a.map(a=>a.id===b?{...a,isExpanded:!a.isExpanded}:a)))},children:[(0,d.jsx)("span",{children:a.title}),a.isCollapsible&&(0,d.jsx)("div",{children:a.isExpanded?(0,d.jsx)(Q.A,{className:"w-3 h-3"}):(0,d.jsx)(R.A,{className:"w-3 h-3"})})]}),(!a.isCollapsible||a.isExpanded)&&(0,d.jsx)("div",{children:a.items.map(b=>u(b,a.id))})]},a.id))})]})}}};